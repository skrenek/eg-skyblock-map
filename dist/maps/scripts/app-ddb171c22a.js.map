{"version":3,"sources":["scripts/app-ddb171c22a.js"],"names":["angular","module","islandTile","IslandTileController","$scope","$log","ctrl","this","isle","log","username","directive","restrict","templateUrl","controller","controllerAs","bindToController","$inject","acmeNavbar","NavbarController","moment","vm","relativeDate","creationDate","fromNow","scope","MainController","$timeout","toastr","$http","showToastr","info","classAnimation","processIslands","min","x","z","max","_","forEach","islands","island","Math","location","rowCount","colCount","currRow","rowData","rowIndex","colIndex","row","col","searchForIsland","avatar","push","gridData","found","find","method","url","headers","Accept","then","response","data","runBlock","debug","run","routerConfig","$stateProvider","$urlRouterProvider","state","otherwise","config","constant","$logProvider","toastrConfig","$mdThemingProvider","debugEnabled","allowHtml","timeOut","positionClass","preventDuplicates","progressBar","theme","primaryPalette","default","accentPalette","$templateCache","put"],"mappings":"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","file":"scripts/app-ddb171c22a.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('skyblockMap', ['ngAnimate', 'ngCookies', 'ngTouch', 'ngSanitize', 'ngMessages', 'ngAria', 'restangular', 'ui.router', 'ngMaterial', 'toastr']);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('skyblockMap')\n    .directive('islandTile', islandTile);\n\n  /** @ngInject */\n  function islandTile() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/island-tile/island-tile.html',\n      controller: IslandTileController,\n      controllerAs: 'ctrl',\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function IslandTileController($scope, $log) {\n      var ctrl = this;\n\n      ctrl.isle = $scope.isle;\n      $log.log('Isle is ' + ctrl.isle.username);\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('skyblockMap')\n    .directive('navbar', acmeNavbar);\n\n  /** @ngInject */\n  function acmeNavbar() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/navbar/navbar.html',\n      scope: {\n          creationDate: '='\n      },\n      controller: NavbarController,\n      controllerAs: 'vm',\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function NavbarController(moment) {\n      var vm = this;\n\n      // \"vm.creation\" is avaible by directive option \"bindToController: true\"\n      vm.relativeDate = moment(vm.creationDate).fromNow();\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('skyblockMap')\n    .controller('MainController', MainController);\n\n  /** @ngInject */\n  function MainController($timeout, toastr, $http, $log) {\n    var ctrl = this;\n\n    ctrl.classAnimation = '';\n    ctrl.creationDate = 1445486871367;\n    ctrl.showToastr = showToastr;\n    ctrl.islands = [];\n\n    function showToastr() {\n      toastr.info('Fork <a href=\"https://github.com/Swiip/generator-gulp-angular\" target=\"_blank\"><b>generator-gulp-angular</b></a>');\n      ctrl.classAnimation = '';\n    }\n\n    function processIslands() {\n\n      var min = { x: 10000000, z: 10000000 };\n      var max = { x: -10000000, z: -10000000 };\n\n      _.forEach(ctrl.islands, function(island) {\n        min.x = Math.min(min.x, island.location.x);\n        min.z = Math.min(min.z, island.location.z);\n        max.x = Math.max(max.x, island.location.x);\n        max.z = Math.max(max.z, island.location.z);\n      });\n      ctrl.rowCount = (max.z - min.z) / 150 + 1;\n      ctrl.colCount = (max.x - min.x) / 150 + 1;\n      $log.log('Calculated ' + ctrl.rowCount + ' rows and ' + ctrl.colCount + ' columns.');\n\n      var rowData = [],\n          currRow,\n          rowIndex = min.z,\n          colIndex = min.x;\n      for (var row = 0; row < ctrl.rowCount; row++) {\n        currRow = [];\n        colIndex = min.x;\n        for (var col = 0; col < ctrl.colCount; col++) {\n          var isle = searchForIsland(colIndex, rowIndex) || { location: { x: colIndex, z: rowIndex } };\n          if (isle.username) {\n            if (isle.username === \"SPAWN\") {\n              isle.avatar = 'http://hydra-media.cursecdn.com/minecraft.gamepedia.com/c/c5/Grass.png';\n            } else {\n              isle.avatar = 'https://mcapi.ca/avatar/3d/'+isle.username+'/125';\n            }\n          } else {\n            isle.avatar = 'http://hydra-media.cursecdn.com/minecraft.gamepedia.com/e/ee/Bedrock.png';\n            isle.username = 'unknown';\n          }\n          currRow.push(isle);\n          colIndex += 150;\n        }\n        rowData.push(currRow);\n        rowIndex += 150;\n      }\n\n      ctrl.gridData = rowData;\n    }\n\n    function searchForIsland(x, z) {\n      var found = _.find(ctrl.islands, function(isle) {\n        $log.log('Checking ' + isle.username + ': ' + isle.location.x + ',' + isle.location.z + ' against ' + x + ',' + z);\n        return isle.location.x === x && isle.location.z === z;\n      });\n      if (found) $log.log('Found island ' + found.username);\n      return found;\n    }\n\n    $http({\n      method: 'GET',\n      url: '/assets/map.json',\n      headers: {\n        'Accept': 'application/json'\n      }\n    }).then(function(response) {\n      ctrl.islands = response.data.islands;\n      processIslands();\n    }, function(response) {\n      // error\n    });\n  }\n\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('skyblockMap')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($log) {\n\n    $log.debug('runBlock end');\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('skyblockMap')\n    .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider) {\n    $stateProvider\n      .state('home', {\n        url: '/',\n        templateUrl: 'app/main/main.html',\n        controller: 'MainController',\n        controllerAs: 'ctrl'\n      });\n\n    $urlRouterProvider.otherwise('/');\n  }\n\n})();\n\n/* global malarkey:false, moment:false */\n(function() {\n  'use strict';\n\n  angular\n    .module('skyblockMap')\n    .constant('moment', moment);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('skyblockMap')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider, toastrConfig, $mdThemingProvider) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n\n    // Set options third-party lib\n    toastrConfig.allowHtml = true;\n    toastrConfig.timeOut = 3000;\n    toastrConfig.positionClass = 'toast-top-right';\n    toastrConfig.preventDuplicates = true;\n    toastrConfig.progressBar = true;\n\n    $mdThemingProvider\n      .theme('default')\n      .primaryPalette('green', {\n        default: '900'\n      })\n      .accentPalette('grey');\n  }\n\n})();\n\nangular.module(\"skyblockMap\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/main/main.html\",\"<div layout=\\\"column\\\" layout-fill=\\\"\\\"><md-content><header><navbar creation-date=\\\"ctrl.creationDate\\\"></navbar></header><section class=\\\"md-padding\\\"><p><strong>{{ctrl.islands.length}} islands have been submitted.</strong> This map represents where players\\' islands are in relation to one another.</p><div class=\\\"island-grid\\\"><div class=\\\"row\\\" ng-repeat=\\\"row in ctrl.gridData\\\"><div class=\\\"island-tile\\\" ng-repeat=\\\"isle in row\\\" data-coords=\\\"{{isle.location.x}}, {{isle.location.z}}\\\"><img ng-src=\\\"{{isle.avatar}}\\\" class=\\\"{{isle.username}}\\\"><p>{{isle.username}}</p><p>{{isle.location.x}}, {{isle.location.z}}</p></div></div></div></section><footer class=\\\"md-padding md-caption\\\"><a href=\\\"http://www.minecraft.net\\\">Minecraft</a> is copyright <a href=\\\"http://www.mojang.com\\\">Mojang</a> and is not affiliated with this site. <a href=\\\"http://www.endgameserver.com\\\">End Game</a>, it\\'s site, and its server copyright &copy; End Game and is not affiliated with this site.</footer></md-content></div>\");\n$templateCache.put(\"app/components/island-tile/island-tile.html\",\"<div class=\\\"island-tile\\\" data-coords=\\\"{{ctrl.isle.location.x}}, {{ctrl.isle.location.z}}\\\">{{ctrl.isle.username}}</div>\");\n$templateCache.put(\"app/components/navbar/navbar.html\",\"<md-toolbar layout=\\\"row\\\" layout-align=\\\"center center\\\"><md-button href=\\\"#\\\">End Game Skyblock Island Map</md-button><section flex=\\\"\\\" layout=\\\"row\\\" layout-align=\\\"left center\\\"><md-button flex=\\\"15\\\" class=\\\"md-raised md-primary md-hue-1\\\" href=\\\"http://www.endgameserver.com\\\" target=\\\"_blank\\\">Visit End Game</md-button><md-button flex=\\\"15\\\" class=\\\"md-raised md-primary md-hue-1\\\" href=\\\"http://www.endgameserver.com/forum/m/4480316/viewthread/24492606-skyblock-map-experiment\\\" target=\\\"_blank\\\">Submit Your Island</md-button></section></md-toolbar>\");}]);"],"sourceRoot":"/source/"}